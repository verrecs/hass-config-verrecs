action: fire-dom-event
browser_mod:
  service: browser_mod.popup
  data:
    title: Spotify
    # timeout: 300000
    style: >
      --popup-max-width: 1200px;
      --ha-card-border-radius: 0;
    content:
      type: vertical-stack
      cards:
        - type: entities
          state_color: true
          card_mod:
            class: content
          entities:

            - entity: media_player.spotify_stephane_verrecchia
              # hide:
              #   controls: true
              #   name: true
              #   power: true
              #   source: true
              #   volume: true
              #   progress: true
              # idle_view:
              #   after: 0.1
              #   when_idle: true
              #   when_paused: true
              #   when_standby: true
              # style: |
              #   :host {
              #     left: 11.7%;
              #     top:  41.5%;
              #     width: 20.5078125%;
              #     border-radius: 5vw;
              #     overflow: hidden;
              #     height: 3.8vw;
              #     box-shadow: none !important;
              #   }
              #   ha-card {
              #     border-radius: 5vw;
              #     overflow: hidden !important;
              #     box-shadow: none !important;
              #     padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
              #   }
              #   ha-card.--inactive .mmp-player{
              #     opacity: 0 !important;
              #   }
              #   #primaryProgress{
              #       background: #474A52 !important;
              #   }
              #   .entity__info{
              #     height: 2.6vw;
              #     width: 65% !important;
              #     max-height: 20vw !important;
              #     font-size: 0.9vw !important;
              #     margin:0 0 0 1.04vw !important;
              #     display: inline-block !important;
              #   }
              #   div.mmp__bg{
              #     background: #1E2022;
              #   }
              #   ha-card.--inactive div.mmp__bg{
              #     background: none;
              #   }
              #   div.mmp-player {
              #     padding: 0vw;
              #     height: 100%;
              #   }
              #   ha-card {
              #     height: 100%;
              #   }
              #   mmp-powerstrip {
              #     width: 100%;
              #     display: block;
              #     padding:0;
              #   }
              #   ha-icon{
              #     display: block !important;
              #     height: 2vw !important;
              #     width: 2vw !important;
              #     margin: 0.3vw 1.5vw 0 0vw !important;
              #   }
              #   .entity__icon{
              #     float:right;
              #     padding: 0.1vw;
              #     width: 3vw !important;
              #     height: 3vw !important;
              #     min-width: 0 !important;
              #     min-height: 0 !important;
              #     margin:0 !important;
              #     display: inline-block !important;
              #   }

              #   .mmp-player__core {
              #     height: auto;
              #     width: 100% !important;
              #     margin-bottom: 0.1vw;
              #     display: block !important;
              #     position: absolute !important;
              #     bottom: 0;
              #   }

              #   .entity__info__media{
              #     max-height: 20vw !important;
              #   }
              #   .entity__info__media span::before{
              #     content: none !important
              #   }
              #   .attr__media_title{
              #     display:block;
              #     color: white;
              #     font-weight: 300;
              #     font-size: 1.2vw !important;
              #   }
              #   .attr__media_artist{
              #     font-size: 0.8vw !important;
              #     font-weight: 200;
              #     color: white;
              #   }
              #   .entity__artwork{
              #     display:inline-block;
              #     float: right;
              #     margin-right: 0 !important;
              #     display: inline-block;
              #     float: right;
              #     width: 2.2vw !important;
              #     height: 2.2vw !important;
              #     min-width: 0 !important;
              #     margin: 0.2vw 1vw 0 0 !important;
              #   }
              # tap_action:
              #   action: navigate
              #   navigation_path: /lovelace/2
              type: 'custom:mini-media-player'
              

            # - type: 'custom:spotify-card'
            #   device: "Apple TV"
            #   default_device: "Apple TV"
            #   country_code: FR
            #   hide_warning: true
            #   display_style: Grid
            #   known_connect_devices:
            #     - id: !secret spotify_device_apple_tv
            #       name: "Apple TV"

              # limit: 10
              # always_play_random_song: true
              # name:
              # style: |
              #   :host {
              #       left: 79.5%;
              #       top: 39.8%;
              #       width: 31%;
              #       height: 62.3%;
              #       border-radius: 1vw;
              #   }
              #   #header{
              #       display:none !important;
              #   }
              #   #content{
              #       border:none !important;
              #   }
              #   .playback-controls{
              #       display:none !important;
              #   }
              #   #header-track{
              #       display:none;
              #   }
              #   .list-item > p{
              #       white-space: nowrap;
              #           overflow: hidden;
              #   }
              #   .list-item{
              #       border-radius: 0.2vw;
              #       overflow:hidden;
              #       border:none !important;
              #       margin-bottom:2px;
              #   }


