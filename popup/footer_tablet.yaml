action: fire-dom-event
browser_mod:
  service: browser_mod.popup
  data:
    title: Tablette
    timeout: 50000
    style: >
      --popup-max-width: 1200px;
      --ha-card-border-radius: 0;
    content:
      type: vertical-stack
      cards:
        - type: entities
          state_color: true
          card_mod:
            class: content
          entities:

            - type: custom:slider-entity-row
              entity: number.galaxy_tab_a_screen_off_timer
              min: 2
              max: 60

            - entity: number.galaxy_tab_a_screen_brightness
            - entity: switch.galaxy_tab_a_motion_detection
            # - entity: switch.galaxy_tab_a_screensaver
            - entity: binary_sensor.galaxy_tab_a_plugged_in

            - type: custom:bar-card
              width: 55%
              height: 2em
              decimal: 0
              unit_of_measurement: '%'
              positions: &bar_card_positions
                icon: outside
                indicator: 'off'
                name: outside
              severity:
                - color: var(--red-color)
                  from: 0
                  to: 9
                - color: '#303435'
                  from: 10
                  to: 100
              entity_row: true
              entities:

                - entity: sensor.galaxy_tab_a_battery
                
            - entity: sensor.galaxy_tab_a_total_memory
            - entity: sensor.galaxy_tab_a_internal_storage_total_space
            - entity: sensor.galaxy_tab_a_free_memory
            - entity: sensor.galaxy_tab_a_internal_storage_free_space
            


        - type: custom:mod-card
          card_mod:
            style:
              hui-horizontal-stack-card$: |
                #root {
                  justify-content: space-evenly !important;
                  padding: var(--tablet-popup-button-padding);
                }
          card:
            type: horizontal-stack
            cards:
              - type: custom:button-card
                name: Recharger Dashboard
                tap_action:
                  action: call-service
                  service: browser_mod.sequence
                  service_data:
                    sequence:
                      - service: browser_mod.notification
                        data:
                          message: Rechargement du dashboard...
                      - service: button.press
                        data:
                          entity_id: button.galaxy_tab_a_load_start_url
                template: icon_name

              - type: custom:button-card
                name: Recharger Kiosk
                tap_action:
                  action: call-service
                  service: browser_mod.sequence
                  service_data:
                    sequence:
                      - service: browser_mod.notification
                        data:
                          message: Rechargement de Kiosk Browser...
                      - service: button.press
                        data:
                          entity_id: button.galaxy_tab_a_restart_browser
                template: icon_name
